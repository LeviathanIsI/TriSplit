<Window x:Class="TriSplit.Desktop.Views.SplashScreenWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        SizeToContent="WidthAndHeight"
        Topmost="True"
        WindowStartupLocation="CenterScreen"
        Loaded="OnSplashLoaded">
  <Window.Resources>
    <CubicEase x:Key="SplashEase" EasingMode="EaseOut"/>
    <CubicEase x:Key="StrokeEase" EasingMode="EaseInOut"/>
    <QuadraticEase x:Key="SparkEase" EasingMode="EaseOut"/>

    <Storyboard x:Key="SplashStoryboard">
      <DoubleAnimation Storyboard.TargetName="RootGrid"
                       Storyboard.TargetProperty="Opacity"
                       From="0"
                       To="1"
                       Duration="0:0:0.25"/>
      <DoubleAnimation Storyboard.TargetName="LogoBorder"
                       Storyboard.TargetProperty="Opacity"
                       From="0"
                       To="1"
                       Duration="0:0:0.35"/>
      <DoubleAnimation Storyboard.TargetName="LogoScale"
                       Storyboard.TargetProperty="ScaleX"
                       From="0.9"
                       To="1"
                       Duration="0:0:0.35"
                       EasingFunction="{StaticResource SplashEase}"/>
      <DoubleAnimation Storyboard.TargetName="LogoScale"
                       Storyboard.TargetProperty="ScaleY"
                       From="0.9"
                       To="1"
                       Duration="0:0:0.35"
                       EasingFunction="{StaticResource SplashEase}"/>
      <DoubleAnimation Storyboard.TargetName="PathTrace"
                       Storyboard.TargetProperty="StrokeDashOffset"
                       BeginTime="0:0:0.3"
                       From="420"
                       To="0"
                       Duration="0:0:1.6"
                       EasingFunction="{StaticResource StrokeEase}"/>
      <DoubleAnimation Storyboard.TargetName="PathTrace"
                       Storyboard.TargetProperty="Opacity"
                       BeginTime="0:0:0.3"
                       From="0"
                       To="1"
                       Duration="0:0:0.25"/>
      <DoubleAnimation Storyboard.TargetName="LogoBorder"
                       Storyboard.TargetProperty="(UIElement.Effect).Opacity"
                       BeginTime="0:0:1.95"
                       From="0.18"
                       To="0.55"
                       Duration="0:0:0.35"
                       AutoReverse="True"/>
      <DoubleAnimation Storyboard.TargetName="Spark1"
                       Storyboard.TargetProperty="Opacity"
                       BeginTime="0:0:1.8"
                       From="0"
                       To="1"
                       Duration="0:0:0.15"
                       AutoReverse="True"/>
      <DoubleAnimation Storyboard.TargetName="Spark1"
                       Storyboard.TargetProperty="(Canvas.Top)"
                       BeginTime="0:0:1.8"
                       From="48"
                       To="18"
                       Duration="0:0:0.6"
                       EasingFunction="{StaticResource SparkEase}"/>
      <DoubleAnimation Storyboard.TargetName="Spark2"
                       Storyboard.TargetProperty="Opacity"
                       BeginTime="0:0:2.0"
                       From="0"
                       To="1"
                       Duration="0:0:0.15"
                       AutoReverse="True"/>
      <DoubleAnimation Storyboard.TargetName="Spark2"
                       Storyboard.TargetProperty="(Canvas.Top)"
                       BeginTime="0:0:2.0"
                       From="58"
                       To="28"
                       Duration="0:0:0.6"
                       EasingFunction="{StaticResource SparkEase}"/>
      <DoubleAnimation Storyboard.TargetName="Spark3"
                       Storyboard.TargetProperty="Opacity"
                       BeginTime="0:0:2.15"
                       From="0"
                       To="0.9"
                       Duration="0:0:0.15"
                       AutoReverse="True"/>
      <DoubleAnimation Storyboard.TargetName="Spark3"
                       Storyboard.TargetProperty="(Canvas.Top)"
                       BeginTime="0:0:2.15"
                       From="54"
                       To="20"
                       Duration="0:0:0.7"
                       EasingFunction="{StaticResource SparkEase}"/>
      <DoubleAnimation Storyboard.TargetName="RootGrid"
                       Storyboard.TargetProperty="Opacity"
                       BeginTime="0:0:2.4"
                       From="1"
                       To="0"
                       Duration="0:0:0.35"
                       FillBehavior="HoldEnd"/>
    </Storyboard>
  </Window.Resources>

  <Grid x:Name="RootGrid" Background="#FF2A2A2A" Opacity="0" Margin="60">
    <Border x:Name="LogoBorder"
            Width="320"
            Height="150"
            CornerRadius="14"
            BorderBrush="#80FFFFFF"
            BorderThickness="1"
            Opacity="0">
      <Border.Resources>
        <LinearGradientBrush x:Key="AmberBoxBackground" StartPoint="0.5,0" EndPoint="0.5,1">
          <GradientStop Color="#FFFBBF4E" Offset="0"/>
          <GradientStop Color="#FFF59E0B" Offset="0.7"/>
          <GradientStop Color="#FFE07B00" Offset="1"/>
        </LinearGradientBrush>
      </Border.Resources>
      <Border.Background>
        <StaticResource ResourceKey="AmberBoxBackground"/>
      </Border.Background>
      <Border.RenderTransform>
        <ScaleTransform x:Name="LogoScale" ScaleX="0.9" ScaleY="0.9"/>
      </Border.RenderTransform>
      <Border.RenderTransformOrigin>0.5,0.5</Border.RenderTransformOrigin>
      <Border.Effect>
        <DropShadowEffect Color="#FFFFD27F" BlurRadius="22" ShadowDepth="0" Opacity="0.18"/>
      </Border.Effect>
      <Grid>
        <Canvas Width="300" Height="110" HorizontalAlignment="Center" VerticalAlignment="Center">
          <Path x:Name="PathTrace"
                Stroke="#FFFDF6D8"
                StrokeThickness="3.5"
                StrokeStartLineCap="Round"
                StrokeEndLineCap="Round"
                StrokeDashArray="420 420"
                StrokeDashOffset="420"
                Opacity="0"
                Data="M 20,95 L 20,25 L 70,25 M 90,70 C 90,50 110,50 110,65 C 110,80 90,80 90,60 M 120,65 L 120,45 L 145,45 M 160,45 C 175,45 185,55 185,72 C 185,90 165,95 155,75 M 200,45 L 200,95 M 200,45 C 215,45 230,45 240,65 C 248,80 235,100 210,95 M 250,45 L 270,45 L 270,95 M 270,95 C 290,95 305,85 305,70 C 305,50 285,50 275,60 M 320,45 L 320,95"/>

          <Canvas x:Name="ParticleLayer" Width="320" Height="110">
            <Ellipse x:Name="Spark1" Width="8" Height="8" Fill="#FFFFF9C8" Opacity="0" Canvas.Left="235" Canvas.Top="48">
              <Ellipse.Effect>
                <BlurEffect Radius="6"/>
              </Ellipse.Effect>
            </Ellipse>
            <Ellipse x:Name="Spark2" Width="6" Height="6" Fill="#FFFFE9A3" Opacity="0" Canvas.Left="255" Canvas.Top="58">
              <Ellipse.Effect>
                <BlurEffect Radius="5"/>
              </Ellipse.Effect>
            </Ellipse>
            <Ellipse x:Name="Spark3" Width="5" Height="5" Fill="#FFFFF9DC" Opacity="0" Canvas.Left="215" Canvas.Top="54">
              <Ellipse.Effect>
                <BlurEffect Radius="4"/>
              </Ellipse.Effect>
            </Ellipse>
          </Canvas>
        </Canvas>
      </Grid>
    </Border>
  </Grid>
</Window>


